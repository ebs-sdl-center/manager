import{u as f,b as y}from"./colorUtil-CUTV6QNJ.js";import{d as h,c as w,b as l,e as n,f as o,n as u,t as r,u as _,F as g,m as x,h as c,p as i,q as p,g as k}from"./index-CDU-aP7D.js";const v={class:"wrapper w-[60rem] max-w-[96rem] overflow-x-auto px-6 py-4 md:w-full"},H={class:"mb-4 w-full border text-base"},C={class:"bg-gray-100 text-sm md:text-xl"},V={rowspan:"2",class:"border px-2 py-1"},z={class:"text-base font-normal"},M={rowspan:"2",class:"border px-2 py-1"},F={class:"text-base font-normal"},I=["rowspan"],B={class:"m-0 mb-0 inline-flex items-center justify-center p-0 pb-0 font-bold"},S={class:"mt-0 ml-2 pt-0 text-base font-normal"},L={class:"mt-1 ml-2 text-sm font-normal"},N={class:"inline-flex w-full items-center justify-between"},E={key:0,class:"ml-auto text-sm"},j=["href"],A={key:1,class:"ml-2 animate-pulse text-sm text-red-600 italic"},D=["rowspan"],T={key:1,class:"animate-pulse text-xl font-bold text-red-700 italic"},O=h({__name:"CenterInfoView",setup(q){const m=f(),b=w(()=>{const d=new Map;for(const t of[...m.centers]){let s=d.get(t.group_id);s||(s={group_id:t.group_id,group_name:t.group_name??null,group_chief:t.group_chief??null,group_color:t.group_color??null,centers:[],stu_mid_sum:0,stu_high_sum:0},d.set(t.group_id,s)),s.centers.push(t)}for(const t of d.values())t.stu_mid_sum=t.centers.reduce((s,e)=>s+(e.detailInfo?.student_count_mid??0),0),t.stu_high_sum=t.centers.reduce((s,e)=>s+(e.detailInfo?.student_count_high??0),0);for(const t of d.values())t.centers.sort((s,e)=>s.name.localeCompare(e.name));return Array.from(d.values()).sort((t,s)=>t.group_id-s.group_id)});return(d,t)=>(n(),l(g,null,[t[12]||(t[12]=o("div",{class:"flex h-12 items-center px-6"},[o("h3",{class:"mr-4 text-xl font-black text-gray-700"},"EBS 자기주도학습센터 리스트"),o("a",{href:"/manager/map",class:"rounded-full border border-sky-600 px-4 py-0.5 text-sky-800"},"지도 보기")],-1)),t[13]||(t[13]=o("hr",null,null,-1)),o("div",v,[o("table",H,[o("thead",null,[o("tr",C,[o("th",V,[t[0]||(t[0]=u(" 거점센터 ",-1)),o("span",z,"("+r(b.value.length)+"개)",1)]),o("th",M,[t[1]||(t[1]=u(" 학습센터 ",-1)),o("span",F,"("+r(_(m).centers.length)+"개)",1),t[2]||(t[2]=o("span",{class:"ml-2 text-sm font-normal"},"(거점내 가나다순)",-1))]),t[3]||(t[3]=o("th",{rowspan:"2",class:"border px-2 py-1"},"개소일",-1)),t[4]||(t[4]=o("th",{colspan:"2",class:"border px-2 py-1 text-base"},"학생정원",-1)),t[5]||(t[5]=o("th",{rowspan:"2",class:"border px-2 py-1"},"센터장",-1)),t[6]||(t[6]=o("th",{rowspan:"2",class:"border px-2 py-1"},"예산구분",-1))]),t[7]||(t[7]=o("tr",{class:"bg-gray-100 text-sm"},[o("th",{class:"border px-2 py-1"},"중"),o("th",{class:"border px-2 py-1"},"고")],-1))]),o("tbody",null,[(n(!0),l(g,null,x(b.value,s=>(n(),l(g,{key:s.group_id},[(n(!0),l(g,null,x(s.centers,(e,a)=>(n(),l("tr",{key:e.id},[a===0?(n(),l("td",{key:0,class:"border border-b-4 border-gray-600 px-2 py-1.5 text-center text-sm md:text-2xl",rowspan:s.centers.length},[o("div",B,[o("div",{class:"mr-2 h-10 w-10 rounded-xl p-0",style:i({backgroundColor:s.group_color?s.group_color:"#888888",color:_(y)(s.group_color??"#888888").color})},null,4),o("div",null,r(s.group_name),1)]),o("div",S," (소속센터: "+r(s.centers.length)+"개) ",1),t[10]||(t[10]=o("hr",{class:"mt-1 border-dashed"},null,-1)),o("div",L,[t[8]||(t[8]=u(" 관리 학생 총원 ",-1)),t[9]||(t[9]=o("br",null,null,-1)),u("중학 "+r(s.stu_mid_sum)+"명 / 고교 "+r(s.stu_high_sum)+"명 ",1)])],8,I)):c("",!0),o("td",{class:p(["border border-gray-600 px-2 py-1.5 text-sm md:text-base",{"border-b-4":a===s.centers.length-1,"uncertain-bg":e.uncertain}]),style:i({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},[o("div",N,[u(r(e.name)+" ",1),e.detailInfo&&e.detailInfo.excel_link?(n(),l("span",E,[o("a",{href:e.detailInfo.excel_link??"#",target:"_blank"},[...t[11]||(t[11]=[k('<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 48 48" class="inline h-7 w-7"><path fill="#4CAF50" d="M41,10H25v28h16c0.553,0,1-0.447,1-1V11C42,10.447,41.553,10,41,10z"></path><path fill="#FFF" d="M32 15H39V18H32zM32 25H39V28H32zM32 30H39V33H32zM32 20H39V23H32zM25 15H30V18H25zM25 25H30V28H25zM25 30H30V33H25zM25 20H30V23H25z"></path><path fill="#2E7D32" d="M27 42L6 38 6 10 27 6z"></path><path fill="#FFF" d="M19.129,31l-2.411-4.561c-0.092-0.171-0.186-0.483-0.284-0.938h-0.037c-0.046,0.215-0.154,0.541-0.324,0.979L13.652,31H9.895l4.462-7.001L10.274,17h3.837l2.001,4.196c0.156,0.331,0.296,0.725,0.42,1.179h0.04c0.078-0.271,0.224-0.68,0.439-1.22L19.237,17h3.515l-4.199,6.939l4.316,7.059h-3.74V31z"></path></svg>',1)])],8,j)])):(n(),l("span",A,"(엑셀 미등록)"))])],6),o("td",{class:p(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":e.uncertain}]),style:i({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},r(e.open_ymd??"미정"),7),o("td",{class:p(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":e.uncertain}]),style:i({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},r(e.detailInfo?.student_count_mid??"-"),7),o("td",{class:p(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":e.uncertain}]),style:i({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},r(e.detailInfo?.student_count_high??"-"),7),a===0?(n(),l("td",{key:1,class:"border border-b-4 border-gray-600 px-2 py-1 text-center",style:i({backgroundColor:s.group_color?s.group_color+"44":"#888888"}),rowspan:s.centers.length},[s.group_chief?(n(),l(g,{key:0},[u(r(s.group_chief),1)],64)):(n(),l("span",T,"(미지정)"))],12,D)):c("",!0),o("td",{class:p(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"bg-amber-100":e.is_moe_budget,"bg-blue-50":!e.is_moe_budget,"uncertain-bg":e.uncertain}])},[o("span",{class:p(["rounded-full px-1 py-0.5 text-sm text-white md:px-2 md:text-base",{"bg-amber-600":e.is_moe_budget,"bg-blue-400":!e.is_moe_budget}])},r(e.is_moe_budget?"특교":"지자체"),3)],2)]))),128))],64))),128))])])])],64))}});export{O as default};
