import{u as y,b as f}from"./colorUtil-Bt_zyryA.js";import{d as h,c as w,b as l,e as n,f as o,p as g,t as e,u as _,F as p,m as x,h as c,q as u,n as b}from"./index-wWCncokG.js";const k={class:"wrapper w-[60rem] max-w-[96rem] overflow-x-auto px-6 py-4 md:w-full"},C={class:"mb-4 w-full border text-base"},v={class:"bg-gray-100 text-sm md:text-xl"},I={rowspan:"2",class:"border px-2 py-1"},B={class:"text-base font-normal"},S={rowspan:"2",class:"border px-2 py-1"},V={class:"text-base font-normal"},F=["rowspan"],N={class:"m-0 mb-0 inline-flex items-center justify-center p-0 pb-0 font-bold"},j={class:"mt-0 ml-2 pt-0 text-base font-normal"},z={class:"mt-1 ml-2 text-sm font-normal"},E={class:"inline-flex w-full items-center justify-between"},T=["rowspan"],q={key:1,class:"animate-pulse text-xl font-bold text-red-700 italic"},M=h({__name:"CenterInfoView",setup(A){const i=y(),m=w(()=>{const d=new Map;for(const t of[...i.centers]){let s=d.get(t.group_id);s||(s={group_id:t.group_id,group_name:t.group_name??null,group_chief:t.group_chief??null,group_color:t.group_color??null,centers:[],stu_mid_sum:0,stu_high_sum:0},d.set(t.group_id,s)),s.centers.push(t)}for(const t of d.values())t.stu_mid_sum=t.centers.reduce((s,r)=>s+(r.detailInfo?.student_count_mid??0),0),t.stu_high_sum=t.centers.reduce((s,r)=>s+(r.detailInfo?.student_count_high??0),0);for(const t of d.values())t.centers.sort((s,r)=>s.name.localeCompare(r.name));for(const t of d.values())t.centers.sort((s,r)=>s.address.localeCompare(r.address));return Array.from(d.values()).sort((t,s)=>t.group_id-s.group_id)});return(d,t)=>(n(),l(p,null,[t[11]||(t[11]=o("div",{class:"flex h-12 items-center px-6"},[o("h3",{class:"mr-4 text-xl font-black text-gray-700"},"EBS 자기주도학습센터 리스트"),o("a",{href:"/manager/map",class:"rounded-full border border-sky-600 px-4 py-0.5 text-sky-800"},"지도 보기")],-1)),t[12]||(t[12]=o("hr",null,null,-1)),o("div",k,[o("table",C,[o("thead",null,[o("tr",v,[o("th",I,[t[0]||(t[0]=g(" 거점센터 ",-1)),o("span",B,"("+e(m.value.length)+"개)",1)]),o("th",S,[t[1]||(t[1]=g(" 학습센터 ",-1)),o("span",V,"("+e(_(i).centers.length)+"개)",1),t[2]||(t[2]=o("span",{class:"ml-2 text-sm font-normal"},"(거점내 가나다순)",-1))]),t[3]||(t[3]=o("th",{rowspan:"2",class:"border px-2 py-1"},"개소일",-1)),t[4]||(t[4]=o("th",{colspan:"3",class:"border px-2 py-1 text-base"},"학생정원",-1)),t[5]||(t[5]=o("th",{rowspan:"2",class:"border px-2 py-1"},"센터장",-1)),t[6]||(t[6]=o("th",{rowspan:"2",class:"border px-2 py-1"},"예산구분",-1))]),t[7]||(t[7]=o("tr",{class:"bg-gray-100 text-sm"},[o("th",{class:"border px-2 py-1"},"중"),o("th",{class:"border px-2 py-1"},"고"),o("th",{class:"border px-2 py-1"},"총 정원")],-1))]),o("tbody",null,[(n(!0),l(p,null,x(m.value,s=>(n(),l(p,{key:s.group_id},[(n(!0),l(p,null,x(s.centers,(r,a)=>(n(),l("tr",{key:r.id},[a===0?(n(),l("td",{key:0,class:"border border-b-4 border-gray-600 px-2 py-1.5 text-center text-sm md:text-2xl",rowspan:s.centers.length},[o("div",N,[o("div",{class:"mr-2 h-10 w-10 rounded-xl p-0",style:u({backgroundColor:s.group_color?s.group_color:"#888888",color:_(f)(s.group_color??"#888888").color})},null,4),o("div",null,e(s.group_name),1)]),o("div",j," (소속센터: "+e(s.centers.length)+"개) ",1),t[10]||(t[10]=o("hr",{class:"mt-1 border-dashed"},null,-1)),o("div",z,[t[8]||(t[8]=g(" 관리 학생 총원 ",-1)),t[9]||(t[9]=o("br",null,null,-1)),g("중학 "+e(s.stu_mid_sum)+"명 / 고교 "+e(s.stu_high_sum)+"명 ",1)])],8,F)):c("",!0),o("td",{class:b(["border border-gray-600 px-2 py-1.5 text-sm md:text-base",{"border-b-4":a===s.centers.length-1,"uncertain-bg":r.uncertain}]),style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},[o("div",E,e(r.name)+" ("+e(r.address)+") ",1)],6),o("td",{class:b(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":r.uncertain}]),style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},e(r.open_ymd??"미정"),7),o("td",{class:b(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":r.uncertain}]),style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},e(r.detailInfo?.student_count_mid??"-"),7),o("td",{class:b(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":r.uncertain}]),style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},e(r.detailInfo?.student_count_high??"-"),7),o("td",{class:b(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"uncertain-bg":r.uncertain}]),style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"})},e(r.detailInfo?.student_total??"-"),7),a===0?(n(),l("td",{key:1,class:"border border-b-4 border-gray-600 px-2 py-1 text-center",style:u({backgroundColor:s.group_color?s.group_color+"44":"#888888"}),rowspan:s.centers.length},[s.group_chief?(n(),l(p,{key:0},[g(e(s.group_chief),1)],64)):(n(),l("span",q,"(미지정)"))],12,T)):c("",!0),o("td",{class:b(["border border-gray-600 px-2 py-1 text-center",{"border-b-4":a===s.centers.length-1,"bg-amber-100":r.is_moe_budget,"bg-blue-50":!r.is_moe_budget,"uncertain-bg":r.uncertain}])},[o("span",{class:b(["rounded-full px-1 py-0.5 text-sm text-white md:px-2 md:text-base",{"bg-amber-600":r.is_moe_budget,"bg-blue-400":!r.is_moe_budget}])},e(r.is_moe_budget?"특교":"지자체"),3)],2)]))),128))],64))),128))])])])],64))}});export{M as default};
